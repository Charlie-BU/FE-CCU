{"version":3,"file":"getParent.js","sources":["uni_modules/vk-uview-ui/libs/function/getParent.js"],"sourcesContent":["// 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法\n// this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx\nexport default function getParent(name, keys) {\n\tlet parent = this.$parent;\n\t// 通过while历遍，这里主要是为了H5需要多层解析的问题\n\twhile (parent) {\n\t\t// 父组件\n\t\tif (parent.$options.name !== name) {\n\t\t\t// 如果组件的name不相等，继续上一级寻找\n\t\t\tparent = parent.$parent;\n\t\t} else {\n\t\t\tlet data = {};\n\t\t\t// 判断keys是否数组，如果传过来的是一个数组，那么直接使用数组元素值当做键值去父组件寻找\n\t\t\tif(Array.isArray(keys)) {\n\t\t\t\tkeys.map(val => {\n\t\t\t\t\tdata[val] = parent[val] ? parent[val] : '';\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// 历遍传过来的对象参数\n\t\t\t\tfor(let i in keys) {\n\t\t\t\t\t// 如果子组件有此值则用，无此值则用父组件的值\n\t\t\t\t\t// 判断是否空数组，如果是，则用父组件的值，否则用子组件的值\n\t\t\t\t\tif(Array.isArray(keys[i])) {\n\t\t\t\t\t\tif(keys[i].length) {\n\t\t\t\t\t\t\tdata[i] = keys[i];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata[i] = parent[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(keys[i].constructor === Object) {\n\t\t\t\t\t\t// 判断是否对象，如果是对象，且有属性，那么使用子组件的值，否则使用父组件的值\n\t\t\t\t\t\tif(Object.keys(keys[i]).length) {\n\t\t\t\t\t\t\tdata[i] = keys[i];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata[i] = parent[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 只要子组件有传值，即使是false值，也是“传值”了，也需要覆盖父组件的同名参数\n\t\t\t\t\t\tdata[i] = (keys[i] || keys[i] === false) ? keys[i] : parent[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn data;\n\t\t}\n\t}\n\n\treturn {};\n}"],"names":[],"mappings":";AAEe,SAAS,UAAU,MAAM,MAAM;AAC7C,MAAI,SAAS,KAAK;AAElB,SAAO,QAAQ;AAEd,QAAI,OAAO,SAAS,SAAS,MAAM;AAElC,eAAS,OAAO;AAAA,IACnB,OAAS;AACN,UAAI,OAAO,CAAA;AAEX,UAAG,MAAM,QAAQ,IAAI,GAAG;AACvB,aAAK,IAAI,SAAO;AACf,eAAK,GAAG,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,IAAI;AAAA,QAC7C,CAAK;AAAA,MACL,OAAU;AAEN,iBAAQ,KAAK,MAAM;AAGlB,cAAG,MAAM,QAAQ,KAAK,CAAC,CAAC,GAAG;AAC1B,gBAAG,KAAK,CAAC,EAAE,QAAQ;AAClB,mBAAK,CAAC,IAAI,KAAK,CAAC;AAAA,YACvB,OAAa;AACN,mBAAK,CAAC,IAAI,OAAO,CAAC;AAAA,YAClB;AAAA,UACD,WAAS,KAAK,CAAC,EAAE,gBAAgB,QAAQ;AAEzC,gBAAG,OAAO,KAAK,KAAK,CAAC,CAAC,EAAE,QAAQ;AAC/B,mBAAK,CAAC,IAAI,KAAK,CAAC;AAAA,YACvB,OAAa;AACN,mBAAK,CAAC,IAAI,OAAO,CAAC;AAAA,YAClB;AAAA,UACP,OAAY;AAEN,iBAAK,CAAC,IAAK,KAAK,CAAC,KAAK,KAAK,CAAC,MAAM,QAAS,KAAK,CAAC,IAAI,OAAO,CAAC;AAAA,UAC7D;AAAA,QACD;AAAA,MACD;AACD,aAAO;AAAA,IACP;AAAA,EACD;AAED,SAAO;AACR;;"}